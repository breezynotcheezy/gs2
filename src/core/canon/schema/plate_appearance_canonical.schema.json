{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "PlateAppearanceCanonical",
  "type": "object",
  "required": [
    "pa_result",
    "pitches",
    "outs_added",
    "explicit_runner_actions",
    "confidence"
  ],
  "additionalProperties": false,
  "properties": {
    "pa_result": {
      "enum": [
        "strikeout",
        "walk",
        "gb",
        "fb",
        "ld",
        "double",
        "triple",
        "hr",
        "hbp",
        "reached_on_error",
        "fielder_choice"
      ]
    },
    "pitches": {
      "type": "array",
      "items": { "enum": ["ball", "called_strike", "swinging_strike", "foul", "in_play"] },
      "minItems": 1,
      "maxItems": 15
    },
    "batter": { "type": ["string", "null"], "minLength": 1 },
    "pitcher": { "type": ["string", "null"], "minLength": 1 },
    "fielder_num": { "type": ["integer", "null"], "minimum": 1, "maximum": 9 },
    "outs_added": { "type": "integer", "minimum": 0, "maximum": 3 },
    "explicit_runner_actions": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["runner", "action", "to"],
        "additionalProperties": false,
        "properties": {
          "runner": { "type": "string" },
          "action": { "enum": ["steal", "steal_home", "advance", "score"] },
          "to": { "enum": [1, 2, 3, 4] }
        }
      }
    },
    "notes": { "type": "array", "items": { "type": "string" } },
    "confidence": { "type": "number", "minimum": 0, "maximum": 1 }
  }
}
